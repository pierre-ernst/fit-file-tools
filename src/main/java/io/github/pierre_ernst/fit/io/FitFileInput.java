package io.github.pierre_ernst.fit.io;

import java.io.InputStream;

import com.garmin.fit.AccelerometerDataMesgListener;
import com.garmin.fit.ActivityMesgListener;
import com.garmin.fit.AntChannelIdMesgListener;
import com.garmin.fit.AntRxMesgListener;
import com.garmin.fit.AntTxMesgListener;
import com.garmin.fit.AviationAttitudeMesgListener;
import com.garmin.fit.BarometerDataMesgListener;
import com.garmin.fit.BikeProfileMesgListener;
import com.garmin.fit.BloodPressureMesgListener;
import com.garmin.fit.CadenceZoneMesgListener;
import com.garmin.fit.CameraEventMesgListener;
import com.garmin.fit.CapabilitiesMesgListener;
import com.garmin.fit.ClimbProMesgListener;
import com.garmin.fit.ConnectivityMesgListener;
import com.garmin.fit.CourseMesgListener;
import com.garmin.fit.CoursePointMesgListener;
import com.garmin.fit.Decode;
import com.garmin.fit.DeveloperDataIdMesgListener;
import com.garmin.fit.DeviceAuxBatteryInfoMesgListener;
import com.garmin.fit.DeviceInfoMesgListener;
import com.garmin.fit.DeviceSettingsMesgListener;
import com.garmin.fit.DiveAlarmMesgListener;
import com.garmin.fit.DiveApneaAlarmMesgListener;
import com.garmin.fit.DiveGasMesgListener;
import com.garmin.fit.DiveSettingsMesgListener;
import com.garmin.fit.DiveSummaryMesgListener;
import com.garmin.fit.EventMesgListener;
import com.garmin.fit.ExdDataConceptConfigurationMesgListener;
import com.garmin.fit.ExdDataFieldConfigurationMesgListener;
import com.garmin.fit.ExdScreenConfigurationMesgListener;
import com.garmin.fit.ExerciseTitleMesgListener;
import com.garmin.fit.FieldCapabilitiesMesgListener;
import com.garmin.fit.FieldDescriptionMesgListener;
import com.garmin.fit.FileCapabilitiesMesgListener;
import com.garmin.fit.FileCreatorMesgListener;
import com.garmin.fit.FileIdMesgListener;
import com.garmin.fit.GoalMesgListener;
import com.garmin.fit.GpsMetadataMesgListener;
import com.garmin.fit.GyroscopeDataMesgListener;
import com.garmin.fit.HrMesgListener;
import com.garmin.fit.HrZoneMesgListener;
import com.garmin.fit.HrmProfileMesgListener;
import com.garmin.fit.HrvMesgListener;
import com.garmin.fit.JumpMesgListener;
import com.garmin.fit.LapMesgListener;
import com.garmin.fit.LengthMesgListener;
import com.garmin.fit.MagnetometerDataMesgListener;
import com.garmin.fit.MemoGlobMesgListener;
import com.garmin.fit.MesgBroadcaster;
import com.garmin.fit.MesgCapabilitiesMesgListener;
import com.garmin.fit.MetZoneMesgListener;
import com.garmin.fit.MonitoringInfoMesgListener;
import com.garmin.fit.MonitoringMesgListener;
import com.garmin.fit.NmeaSentenceMesgListener;
import com.garmin.fit.ObdiiDataMesgListener;
import com.garmin.fit.OhrSettingsMesgListener;
import com.garmin.fit.OneDSensorCalibrationMesgListener;
import com.garmin.fit.PadMesgListener;
import com.garmin.fit.PowerZoneMesgListener;
import com.garmin.fit.RecordMesgListener;
import com.garmin.fit.ScheduleMesgListener;
import com.garmin.fit.SdmProfileMesgListener;
import com.garmin.fit.SegmentFileMesgListener;
import com.garmin.fit.SegmentIdMesgListener;
import com.garmin.fit.SegmentLapMesgListener;
import com.garmin.fit.SegmentLeaderboardEntryMesgListener;
import com.garmin.fit.SegmentPointMesgListener;
import com.garmin.fit.SessionMesgListener;
import com.garmin.fit.SetMesgListener;
import com.garmin.fit.SlaveDeviceMesgListener;
import com.garmin.fit.SoftwareMesgListener;
import com.garmin.fit.SpeedZoneMesgListener;
import com.garmin.fit.SplitMesgListener;
import com.garmin.fit.SportMesgListener;
import com.garmin.fit.StressLevelMesgListener;
import com.garmin.fit.TankSummaryMesgListener;
import com.garmin.fit.TankUpdateMesgListener;
import com.garmin.fit.ThreeDSensorCalibrationMesgListener;
import com.garmin.fit.TimeInZoneMesgListener;
import com.garmin.fit.TimestampCorrelationMesgListener;
import com.garmin.fit.TotalsMesgListener;
import com.garmin.fit.TrainingFileMesgListener;
import com.garmin.fit.UserProfileMesgListener;
import com.garmin.fit.VideoClipMesgListener;
import com.garmin.fit.VideoDescriptionMesgListener;
import com.garmin.fit.VideoFrameMesgListener;
import com.garmin.fit.VideoMesgListener;
import com.garmin.fit.VideoTitleMesgListener;
import com.garmin.fit.WatchfaceSettingsMesgListener;
import com.garmin.fit.WeatherAlertMesgListener;
import com.garmin.fit.WeatherConditionsMesgListener;
import com.garmin.fit.WeightScaleMesgListener;
import com.garmin.fit.WorkoutMesgListener;
import com.garmin.fit.WorkoutSessionMesgListener;
import com.garmin.fit.WorkoutStepMesgListener;
import com.garmin.fit.ZonesTargetMesgListener;

import io.github.pierre_ernst.fit.model.FitData;

public class FitFileInput {

	public static FitData read(InputStream in) {
		Decode decode = new Decode();
		MesgBroadcaster mesgBroadcaster = new MesgBroadcaster(decode);
		EventListener listener = new EventListener();

		mesgBroadcaster.addListener((FileIdMesgListener) listener);
		mesgBroadcaster.addListener((FileCreatorMesgListener) listener);
		mesgBroadcaster.addListener((TimestampCorrelationMesgListener) listener);
		mesgBroadcaster.addListener((SoftwareMesgListener) listener);
		mesgBroadcaster.addListener((SlaveDeviceMesgListener) listener);
		mesgBroadcaster.addListener((CapabilitiesMesgListener) listener);
		mesgBroadcaster.addListener((FileCapabilitiesMesgListener) listener);
		mesgBroadcaster.addListener((MesgCapabilitiesMesgListener) listener);
		mesgBroadcaster.addListener((FieldCapabilitiesMesgListener) listener);
		mesgBroadcaster.addListener((DeviceSettingsMesgListener) listener);
		mesgBroadcaster.addListener((UserProfileMesgListener) listener);
		mesgBroadcaster.addListener((HrmProfileMesgListener) listener);
		mesgBroadcaster.addListener((SdmProfileMesgListener) listener);
		mesgBroadcaster.addListener((BikeProfileMesgListener) listener);
		mesgBroadcaster.addListener((ConnectivityMesgListener) listener);
		mesgBroadcaster.addListener((WatchfaceSettingsMesgListener) listener);
		mesgBroadcaster.addListener((OhrSettingsMesgListener) listener);
		mesgBroadcaster.addListener((TimeInZoneMesgListener) listener);
		mesgBroadcaster.addListener((ZonesTargetMesgListener) listener);
		mesgBroadcaster.addListener((SportMesgListener) listener);
		mesgBroadcaster.addListener((HrZoneMesgListener) listener);
		mesgBroadcaster.addListener((SpeedZoneMesgListener) listener);
		mesgBroadcaster.addListener((CadenceZoneMesgListener) listener);
		mesgBroadcaster.addListener((PowerZoneMesgListener) listener);
		mesgBroadcaster.addListener((MetZoneMesgListener) listener);
		mesgBroadcaster.addListener((DiveSettingsMesgListener) listener);
		mesgBroadcaster.addListener((DiveAlarmMesgListener) listener);
		mesgBroadcaster.addListener((DiveApneaAlarmMesgListener) listener);
		mesgBroadcaster.addListener((DiveGasMesgListener) listener);
		mesgBroadcaster.addListener((GoalMesgListener) listener);
		mesgBroadcaster.addListener((ActivityMesgListener) listener);
		mesgBroadcaster.addListener((SessionMesgListener) listener);
		mesgBroadcaster.addListener((LapMesgListener) listener);
		mesgBroadcaster.addListener((LengthMesgListener) listener);
		mesgBroadcaster.addListener((RecordMesgListener) listener);
		mesgBroadcaster.addListener((EventMesgListener) listener);
		mesgBroadcaster.addListener((DeviceInfoMesgListener) listener);
		mesgBroadcaster.addListener((DeviceAuxBatteryInfoMesgListener) listener);
		mesgBroadcaster.addListener((TrainingFileMesgListener) listener);
		mesgBroadcaster.addListener((WeatherConditionsMesgListener) listener);
		mesgBroadcaster.addListener((WeatherAlertMesgListener) listener);
		mesgBroadcaster.addListener((GpsMetadataMesgListener) listener);
		mesgBroadcaster.addListener((CameraEventMesgListener) listener);
		mesgBroadcaster.addListener((GyroscopeDataMesgListener) listener);
		mesgBroadcaster.addListener((AccelerometerDataMesgListener) listener);
		mesgBroadcaster.addListener((MagnetometerDataMesgListener) listener);
		mesgBroadcaster.addListener((BarometerDataMesgListener) listener);
		mesgBroadcaster.addListener((ThreeDSensorCalibrationMesgListener) listener);
		mesgBroadcaster.addListener((OneDSensorCalibrationMesgListener) listener);
		mesgBroadcaster.addListener((VideoFrameMesgListener) listener);
		mesgBroadcaster.addListener((ObdiiDataMesgListener) listener);
		mesgBroadcaster.addListener((NmeaSentenceMesgListener) listener);
		mesgBroadcaster.addListener((AviationAttitudeMesgListener) listener);
		mesgBroadcaster.addListener((VideoMesgListener) listener);
		mesgBroadcaster.addListener((VideoTitleMesgListener) listener);
		mesgBroadcaster.addListener((VideoDescriptionMesgListener) listener);
		mesgBroadcaster.addListener((VideoClipMesgListener) listener);
		mesgBroadcaster.addListener((SetMesgListener) listener);
		mesgBroadcaster.addListener((JumpMesgListener) listener);
		mesgBroadcaster.addListener((SplitMesgListener) listener);
		mesgBroadcaster.addListener((ClimbProMesgListener) listener);
		mesgBroadcaster.addListener((FieldDescriptionMesgListener) listener);
		mesgBroadcaster.addListener((DeveloperDataIdMesgListener) listener);
		mesgBroadcaster.addListener((CourseMesgListener) listener);
		mesgBroadcaster.addListener((CoursePointMesgListener) listener);
		mesgBroadcaster.addListener((SegmentIdMesgListener) listener);
		mesgBroadcaster.addListener((SegmentLeaderboardEntryMesgListener) listener);
		mesgBroadcaster.addListener((SegmentPointMesgListener) listener);
		mesgBroadcaster.addListener((SegmentLapMesgListener) listener);
		mesgBroadcaster.addListener((SegmentFileMesgListener) listener);
		mesgBroadcaster.addListener((WorkoutMesgListener) listener);
		mesgBroadcaster.addListener((WorkoutSessionMesgListener) listener);
		mesgBroadcaster.addListener((WorkoutStepMesgListener) listener);
		mesgBroadcaster.addListener((ExerciseTitleMesgListener) listener);
		mesgBroadcaster.addListener((ScheduleMesgListener) listener);
		mesgBroadcaster.addListener((TotalsMesgListener) listener);
		mesgBroadcaster.addListener((WeightScaleMesgListener) listener);
		mesgBroadcaster.addListener((BloodPressureMesgListener) listener);
		mesgBroadcaster.addListener((MonitoringInfoMesgListener) listener);
		mesgBroadcaster.addListener((MonitoringMesgListener) listener);
		mesgBroadcaster.addListener((HrMesgListener) listener);
		mesgBroadcaster.addListener((StressLevelMesgListener) listener);
		mesgBroadcaster.addListener((MemoGlobMesgListener) listener);
		mesgBroadcaster.addListener((AntChannelIdMesgListener) listener);
		mesgBroadcaster.addListener((AntRxMesgListener) listener);
		mesgBroadcaster.addListener((AntTxMesgListener) listener);
		mesgBroadcaster.addListener((ExdScreenConfigurationMesgListener) listener);
		mesgBroadcaster.addListener((ExdDataFieldConfigurationMesgListener) listener);
		mesgBroadcaster.addListener((ExdDataConceptConfigurationMesgListener) listener);
		mesgBroadcaster.addListener((DiveSummaryMesgListener) listener);
		mesgBroadcaster.addListener((HrvMesgListener) listener);
		mesgBroadcaster.addListener((TankUpdateMesgListener) listener);
		mesgBroadcaster.addListener((TankSummaryMesgListener) listener);
		mesgBroadcaster.addListener((PadMesgListener) listener);

		decode.read(in, mesgBroadcaster, mesgBroadcaster);

		return listener.getFitData();
	}
}
